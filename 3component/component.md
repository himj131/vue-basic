# 뷰 컴포넌트
- 컴포넌트란 화면을 구성하는 하나의 구성요소를 의미한다.
- vue에서는 화면을 구성할때 쓰는 내비게이션바, 테이블, 리스트, 인풋 박스등과 같은 화면 구성 요소들을 잘게 쪼개 컴포넌트로 관리한다.
- 컴포넌트마다 자체적으로 고유한 유효범위를 갖는다.

## 지역 컴포넌트 vs 전역 컴포넌트
- 지역 컴포넌트는 인스턴스를 새로 생성할 때마다 인스턴스에 components 속성으로 등록 해줘야하지만, 전역 컴포넌트는 한번 등록하면 어느 인스턴스에서든지 사용할 수 있다.

#### 전역 컴포넌트 
- 등록 예시 (Vue.component())
    ``` vue
        Vue.component('전역 컴포넌트의 이름', {
            //컴포넌트 내용
            template: '<div>전역 컴포넌트 등록!!</div>'
        });
    ```
- 컴포넌트 이름은 template 속성에서 사용할 HTML사용자 정의 태그 이름 (<전역 컴포넌트의 이름><\/전역 컴포넌트의 이름>) 을 의미한다.

#### 지역 컴포넌트
- 등록 예시 (new Vue())
    ``` vue
        <script> 
        var cmp = {
            //컴포넌트 내용
            template: '<div>지역 컴포넌트 등록!!</div>'
        }

        new Vue({
            el: '#epp'
            components: {
                'my-local-component' : cmp
            }
        });
        </script>
    ```

## 컴포턴트 통신
- 각 컴포넌트마다 유효범위가 다르기 때문에 다른 컴포넌트의 값을 직접 참조할 수 없다.
    [예제코드](/3component/index3.html)

### 상.하위 컴포넌트 관계
#### 상위에서 하위 컴포넌트로 데이터 전달하기
- 상위에서 하위로는 props라는 특별한 속성을 전달
- 하위에서 상위로는 기본적으로 이벤트만 전달한다.
- props 속성 : 상하위 관계에서 상위 컴포넌트에서 하위 컴포넌트로 데이터를 전달할때 사용
    -   ```
        Vue.component('child-component', {
            props: ['props 속성 이름']
        })
        ```
        ```
        <child-component v-bind:props 속성이름="상위 컴포넌트의 data속성"></child-component>
        ```
#### 하위에서 상위 컴포넌트로 이벤트 전달하기
- (하위에서)이벤트 발생과 (상위에서)수신하기
    ```
    //이벤트 발생
    this.$emit('이벤트명');

    //이벤트 수신
    <child-component v-on:이벤트명="상위 컴포넌트의 메서드명"></child-component>

    ```

#### 같은 레벨의 컴포넌트 간 통신
- 뷰는 상위에서 하위로만 데이터를 전달해야 하는 기본적인 통신 규칙을 따르기 때문에,  
   옆 컴포넌트에 값을 전달하기 위해서는 공통 상위 컴포넌트로 이벤트를 전달한 후,  
   공통 상위 컴포넌트에서 2개의 하위 컴포넌트에 props를 내려 보내야 한다.
- 같은 레벨간 통신을 위해 강제로 상위 컴포넌트를 두어야 한다.

#### 관계 없는 컴포넌트간 통신 - 이벤트 버스
- 이벤트 버스를 이용하면 상,하위 관계 없이도 2개의 서로다른 컴포넌트끼리 데이터를 전달 할 수 있다.
- props속성ㅇ 없이 편하게 원하는 컴포넌트 간에 데이터를 직접 전달할 수 있지만, 컴포넌트가 많아지면 어디서 어디로 보냈는지 관리가 어려워진다. (이는 vuex 사용으로 해결한다.)
>> vuex : 뷰엑스는 컴포넌트간 데이터 관리를 효율적으로 하는 라이브러리다.
- 사용 예)
    ```
    //이벤트 버스를 위한 추가 인스턴스 생성
    var eventBus = new Vue();
    ```
    ```
    //이벤트를 보내는 컴포넌트
    methods: {
        메서드명 : function() {
            eventBus.$emit('이벤트명', 데이터);
        }
    }
    ```
    ```
    //이벤트를 받는 컴포넌트
    methods: {
        created: function() {
            eventBus.$on('이벤트명', function(데이터) {
                ...
            })
        }
    }
    ```

